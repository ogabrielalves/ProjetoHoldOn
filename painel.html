<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css2?family=Arimo&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="assets/img/Icone.png" type="image/x-icon">
    <link rel="stylesheet" href="assets/css/painel.css">
    <script type="text/javascript" src="funcoes.js"></script>
    <title>Painel</title>
</head>

<body>
    <div class="container-fluid">
        <!-- TOPO DO PAINEL -->
        <div class="row">
            <div id="topo-painel" class="col-12 col-sm-3 col-md-2">
                <img src="assets/img/Logo.png" alt="">
            </div>
        </div>
        <!-- MID DO PAINEL -->
        <div class="row">
            <div id="painel" class="col-12 col-sm-3 col-md-2">
                <span>Bem Vindo, <b id="b_usuario"></b></span>
                <span>MEU PERFIL</span>
                <span>CHAT</span>
                <span onclick="dicas()">DICAS</span>
                <span><a href="login.html">SAIR</a></span>
            </div>

            <!-- CHAT AQUI -->
            <div id="idChat" class="col-12 col-sm-9 col-md-10">
                <h1 class="row justify-content-center">CHAT</h1>
                <div class="row justify-content-center">
                    <div id="topchat" class="col-12 col-sm-9 col-md-8">
                        <img id="iconeUser" src="assets/img/icone-cara.png" alt="">
                        <h1 id="nomeUserTop"></h1>
                    </div>
                    <div id="chat" class="col-8 col-md-8 col-sm-8""> 
                        <p style=" color: rgb(33, 172, 33);">Conectado com: <b id="nomeUser"></b></p>
                    </div>
                </div>
                <!-- INPUT E BUTTON DO CHAT -->
                <div class=" row justify-content-center">
                    <div id="pai-input-chat" class="col-8 col-md-8 col-sm-8"">                 
                        <input id="input_chat" class="form-control" type=" text">
                        <button onclick="enviar()" id="bt-chat" class="btn btn-outline-primary">Enviar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>

</html>

<script>
    var texto = [];
    var nomeusuario = ['Miguel', 'Anônimo', 'Catarina', 'Anônimo', 'Vanessa', 'Pedro', 'Larissa'];
    var aleatorio = parseInt(Math.random() * 7);

    nomeUserTop.innerHTML = `${nomeusuario[aleatorio]}`;
    nomeUser.innerHTML = `${nomeusuario[aleatorio]}`;

    if (nomeusuario[aleatorio] == 'Catarina' || nomeusuario[aleatorio] == 'Vanessa' || nomeusuario[aleatorio] == 'Larissa') {
        iconeUser.src = "assets/img/icone-mina.png";
    }
    else if (nomeusuario[aleatorio] == 'Anônimo') {
        iconeUser.src = "assets/img/icone-anonimo.png"
    }

    function enviar() {
        var mensagemdetexto = input_chat.value;
        texto.push(mensagemdetexto);

        if (mensagemdetexto == '') {
            alert('Insira algo');
        } 
        else {
            chat.innerHTML += `<p><spanchat><b>Você:</b> ${texto[texto.length - 1]}</p></spanchat>`;
            document.getElementById('input_chat').value = ``;
        }

        if (mensagemdetexto == 'ola' || mensagemdetexto == 'Olá' || mensagemdetexto == 'Ola' || mensagemdetexto ==
            'olá' ||
            mensagemdetexto == 'oi' || mensagemdetexto == 'Oi') {
            chat.innerHTML += `<p><spannovo><b>${nomeusuario[aleatorio]}:</b> Oi... Algo aconteceu hoje.</spannovo></p>`;
            chat.innerHTML += `<p><spannovo><b>${nomeusuario[aleatorio]}:</b> Eu gostaria de conversar um pouco.</spannovo></p>`;
        }
        if (mensagemdetexto == 'me fale o que aconteceu' || mensagemdetexto == 'me fale o que aconteceu' || mensagemdetexto == 'o que aconteceu?') {
            chat.innerHTML += `<p><spannovo><b>${nomeusuario[aleatorio]}:</b> Bom, hoje meu dia foi horrivel.</spannovo></p>`;
            chat.innerHTML += `<p><spannovo><b>${nomeusuario[aleatorio]}:</b> Minhas notas estão ruins, em casa parece que ninguém se importa comigo.</spannovo></p>`;
        }        
    }

    function dicas() {
        window.open("dicas.html", "minhaJanela", "height=1600,width=1600");
    }

    verificar_autenticacao();
</script>